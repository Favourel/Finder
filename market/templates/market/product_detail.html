{% extends 'market/base.html' %}
{% load static %}
{% load humanize %}
{% load crispy_forms_tags %}
{% block title %}{{ product }}{% endblock %}
{% block content %}


<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>

<style>

.col-6 {
    padding: 3px;
}

#thumb {
    width: 100%;
    height: 200px;
    -webkit-box-shadow: -1px -3px 5px -2px rgba(214,214,214,1);
    -moz-box-shadow: -1px -3px 5px -2px rgba(214,214,214,1);
    box-shadow: -1px -3px 5px -2px rgba(214,214,214,1);
}

</style>

<div class="container mt-2">
    <div class="row">
        <div class="col-lg-9">
            <div class="box-elemennt">
                <div class="row">
                    <div class="col-lg-7 col-md-6 col-sm-5">
                        <style>
                            .col-lg-9, .col-lg-3, .col-lg-12, .col-lg-6{
                                padding: 10px;
                            }
                            @media only screen and (max-width: 1000px) {
                                #featured {
                                    width: 100%;
                                    height: 230px;
                                    -webkit-box-shadow: -1px -3px 5px -2px rgba(214,214,214,1);
                                    -moz-box-shadow: -1px -3px 5px -2px rgba(214,214,214,1);
                                    box-shadow: -1px -3px 5px -2px rgba(214,214,214,1);
                                    transition: .3s;
                                }
                            }
                            @media (min-width: 48em) {
                                #featured {
                                    width: 100%;
                                    height: 350px;
                                    transition: .3s;
                                }
                                #notfeatured {
                                    width: 100%;
                                    height: 350px;
                                    transition: .3s;
                                }
                            }

                        </style>
                        {% if product.productimage_set.all %}
                        {% for image in product.productimage_set.all %}
                        {% if forloop.first %}
                        <img src="{{ product_image.image.url }}" alt="{{ product.name }}" id="featured">
                        {% endif %}
                        {% endfor %}
                        {% else %}
                        <img src="{{ product.image.url }}" alt="{{ product.name }}" id="notfeatured">
                        {% endif %}

                        <div id="slide-wrapper">
                            <!--                        <img id="slideLeft" class="arrow hide" src="{% static 'images/arrow-up.png' %}">-->
                            <div id="slider">
                                <img class="thumbnail highlight" src="{{ product_image.image.url }}">
                                {% for image in product.productimage_set.all %}
                                <img class="thumbnail" src="{{ image.image.url }}">
                                {% endfor %}
                                <!--                            <img class="thumbnail" src="{{ product.image.url }}">-->

                            </div>
                            <!--                        <img id="slideRight" class="arrow hide" src="{% static 'images/arrow-down.png' %}">-->
                        </div>
                        <style>
                            #content-wrapper{
                                display: flex;
                                flex-wrap: wrap;
                                justify-content: center;
                                align-items: center;
                            }

                            .column{
                                width: 600px;
                                padding: 10px;

                            }

                            .thumbnail{
                                max-width: 35px;
                                max-height: 35px;
                                cursor: pointer;
                                opacity: 0.5;
                                margin: 5px;
                                transition: .5s;
                            }

                            .thumbnail:hover{
                                opacity:1;
                            }

                            .highlight{
                                opacity: 1;
                            }

                            #slide-wrapper{
                                max-width: auto;
                                display: flex;
                                min-height: 70px;
                                align-items: center;
                                justify-content: center;
                            }

                            #slider{
                                width: auto;
                                display: flex;
                                flex-wrap: nowrap;
                                overflow-x: auto;

                            }

                            #slider::-webkit-scrollbar {
                                 width: 8px;

                            }

                            #slider::-webkit-scrollbar-track {
                                -webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.3);

                            }

                            #slider::-webkit-scrollbar-thumb {
                              background-color: #dede2e;
                              outline: 1px solid slategrey;
                               border-radius: 100px;

                            }

                            #slider::-webkit-scrollbar-thumb:hover{
                                background-color: #18b5ce;
                            }

                            .arrow{
                                width: 15px;
                                height: 15px;
                                cursor: pointer;
                                transition: .3s;
                            }

                            .arrow:hover{
                                opacity: .5;
                                width: 20px;
                                height: 20px;
                            }





                        </style>

                        <script type="text/javascript">
                            let thumbnails = document.getElementsByClassName('thumbnail')

                            let activeImages = document.getElementsByClassName('highlight')

                            for (var i=0; i < thumbnails.length; i++){

                                thumbnails[i].addEventListener('mouseover', function(){
                                    console.log(activeImages)

                                    if (activeImages.length > 0){
                                        activeImages[0].classList.remove('highlight')
                                    }

                                    this.classList.add('highlight')
                                    document.getElementById('featured').src = this.src
                                })
                            }


                            let buttonRight = document.getElementById('slideRight');
                            let buttonLeft = document.getElementById('slideLeft');

                            buttonLeft.addEventListener('click', function(isLoading){
                                document.getElementById('slider').scrollLeft -= 180

                            })

                            buttonRight.addEventListener('click', function(){
                                document.getElementById('slider').scrollLeft += 180

                            })





                        </script>
                    </div>
                    <br>
                    <br>
                    <div class="col-lg-5 col-md-6 col-sm-7">
                        <h4 style="margin-top: 5px;" class="font-weight-light">{{ product.name|safe }}</h4>
                        <hr>
                        <h5 style="display: inline-block;float: left"><strong>
                            â‚¦{{ product.price|floatformat:2 }}</strong>
                        </h5>
                        <br>

                        <a href="{% url 'add_to_checkout' product.pk %}" class="float-left shadow btn mb-3 btn-block">
                            Proceed to checkout
                            <img class="mr-2" src="https://img.icons8.com/cute-clipart/28/000000/wish-list.png"/>
                        </a>

                        <div class="modal fade" id="add-wishlist" tabindex="-1" aria-labelledby="exampleModalLabel"
                             aria-hidden="true">
                            <div class="modal-dialog modal-sm modal-dialog-centered" role="document">
                                <div class="modal-content" style="background-color: #f6f9fc !important">
                                    <div class="modal-body">
                                        <b style="color: #007bff">{{ product }}</b> has been added to you cart.
                                        <br>
                                        <div class="d-flex mt-2"
                                             style="justify-content: center; align-items: center">
                                            <button style="box-shadow: 4px 6px 5px grey;" type="button"
                                                    class="btn mt-2 mr-2 btn-outline-secondary" data-dismiss="modal">Ok,
                                                close
                                            </button>
                                            <a style="box-shadow: 4px 6px 5px grey;" href=""
                                               class="btn btn-info mt-2">View Cart</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        {% if product.vendor == request.user %}
                        <div class="mb-3 " style="display: inline-block;">
                            <a href="{% url 'product-update' product.id %}" style="box-shadow: 4px 6px 5px grey;"
                               class="btn  btn-outline-secondary ">Update product</a>
                            <button style="box-shadow: 4px 6px 5px grey;"
                                    class="btn btn-outline-danger ml-lg-2" data-toggle="modal"
                                    data-target="#exampleDelete">Delete
                                product
                            </button>
                        </div>
                        {% endif %}
                        <br>
                        <div class="alert alert-secondary row mb-2" style="margin: 1px">
                            <img src="{{ product.vendor.image.url }}"
                                 alt="" class="shadow img-sell rounded-circle">
                            <div class="col" style="display: inline-block">Vendor:
                                <a href="{% url 'vendor' product.vendor %}">
                                    {% if product.seller.first_name %}
                                    {{ product.vendor.first_name }}
                                    {% else %}
                                    {{ product.vendor.username }}
                                    {% endif %}
                                </a>
                                <br>

                                <p style="color:grey; font-size: 13px">
                                    <img src="https://img.icons8.com/ios-filled/20/000000/location-update--v2.png"/>
                                    {{ product.vendor.location }}
                                </p>
                            </div>
                        </div>

                        <style>
                            .detail-bg {
                                background-color: #f6f9fc !important;
                            }
                            .img-sell {
                                width: 50px;
                                height: 50px;
                                transition: .3s;
                            }
                            .img-sell:hover {
                                width: 60px;
                                height: 60px;
                            }

                        </style>
                        <div class="alert alert-secondary" role="alert">
                            <svg width="1.2em" height="1.2em" viewBox="0 0 16 16" class="bi bi-download"
                                 fill="currentColor"
                                 xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd"
                                      d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"/>
                                <path fill-rule="evenodd"
                                      d="M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z"/>
                            </svg>
                            <strong>{{ product.product_purchase }}</strong> sales
                        </div>
                        <strong>Category</strong>
                        <b class="mr-auto right float-right text-right">{{ product.category }}</b>
                        <hr>
                        <strong>Date Uploaded</strong>
                        <b class="mr-auto right float-right text-right"> {{ product.date_posted|date }}</b>
                        <hr>
                        <strong>Date Updated</strong>
                        <b class="mr-auto right float-right text-right"> {{ product.date_updated|date }}</b>
                    </div>
                </div>
            </div>

            <br>
            <div class="box-element">
                <h4>
                    <b> Product Description</b>
                </h4>
                <hr>
                <div class="article-content">
                    {{ product.description | safe }}
                </div>
                <!--                    white-space: pre-line;-->
                <style>
                    p img {
                        vertical-align: middle;
                        border-style: none;
                    }
                    p .img-fluid {
                        max-width: 100%;
                        height: auto;
                    }
                    .article-content {
                        white-space: pre-line;
                        word-wrap: break-word;
                    }
                </style>
            </div>
            <div class="modal fade" id="exampleDelete" tabindex="-1" aria-labelledby="exampleModalLabel"
                 aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered" role="document">
                    <div class="modal-content" style="background-color: #f6f9fc !important">
                        <div class="modal-body">
                            <form action="{{ product.get_absolute_url }}" method="post">
                                {% csrf_token %}
                                <h6>Are you sure you want to delete <b style="color: #007bff">{{ product }}</b> from
                                    your
                                    store?</h6>
                                <div class="float-right">
                                    <button type="button" class="btn btn-outline-secondary" data-dismiss="modal">Close
                                    </button>
                                    <input type="submit" value="CONFIRM" class="btn ">
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
            <br>

            <section class="box-elemente">
                {% if product.productreview_set.all|length > 1 %}
                <h4>
                    <b>Customer Reviews</b>
                </h4>
                {% endif %}
                <style>
                    /*===== TESTIMONIAL STYLE ONE =====*/

                .testimonial-one .section-title-seven {
                  text-align: center;
                  max-width: 550px;
                  margin: auto;

                  position: relative;
                  z-index: 5;
                }
                @media only screen and (min-width: 768px) and (max-width: 991px) {
                  .testimonial-one .section-title-seven {
                    margin-bottom: 45px;
                  }
                }
                @media (max-width: 767px) {
                  .testimonial-one .section-title-seven {
                    margin-bottom: 35px;
                  }
                }
                .testimonial-one .section-title-seven span {
                  text-transform: uppercase;
                  color: var(--primary);
                  display: inline-block;
                  margin-bottom: 8px;
                  font-size: 15px;
                  font-weight: 600;
                }
                .testimonial-one .section-title-seven h5 {
                  font-weight: 600;
                  margin-bottom: 7px;
                  color: var(--primary);
                  text-transform: uppercase;
                  font-size: 1rem;
                }
                @media (max-width: 767px) {
                  .testimonial-one .section-title-seven h5 {
                    font-size: 0.8rem;
                  }
                }
                .testimonial-one .section-title-seven h2 {

                  position: relative;
                  padding-bottom: 15px;
                }
                .testimonial-one .section-title-seven h2::before {
                  position: absolute;
                  content: "";
                  left: 50%;
                  -webkit-transform: translateX(-50%);
                  -moz-transform: translateX(-50%);
                  -ms-transform: translateX(-50%);
                  -o-transform: translateX(-50%);
                  transform: translateX(-50%);
                  bottom: 0;
                  height: 3px;
                  width: 50px;
                  background-color: var(--primary);
                }
                @media only screen and (min-width: 768px) and (max-width: 991px) {
                  .testimonial-one .section-title-seven h2 {
                    font-size: 2rem;
                    line-height: 2.8rem;
                  }
                }
                @media (max-width: 767px) {
                  .testimonial-one .section-title-seven h2 {
                    font-size: 1.5rem;
                    line-height: 1.9rem;
                  }
                }
                .testimonial-one .section-title-seven p {
                  color: var(--dark-3);
                }
                .testimonial-one .testimonial-one-active {
                  margin: 0;
                }
                .testimonial-one .testimonial-one-wrapper {
                  position: relative;
                }
                .testimonial-one .testimonial-one-wrapper .tns-nav {
                  position: absolute;
                  z-index: 2;
                  bottom: -40px;
                  left: 0;
                  width: 100%;
                  display: flex;
                  justify-content: center;
                  align-items: center;
                }
                .testimonial-one .testimonial-one-wrapper .tns-nav button {
                  font-size: 0;
                  width: 12px;
                  height: 12px;
                  border-radius: 50%;
                  background-color: var(--secondary);
                  opacity: 0.3;
                  border: 0;
                  margin: 0 3px;
                  -webkit-transition: all 0.4s ease-out 0s;
                  -moz-transition: all 0.4s ease-out 0s;
                  -ms-transition: all 0.4s ease-out 0s;
                  -o-transition: all 0.4s ease-out 0s;
                  transition: all 0.4s ease-out 0s;
                }
                .testimonial-one .testimonial-one-wrapper .tns-nav button.tns-nav-active {
                  opacity: 1;
                }
                .testimonial-one .single-testimonial {
                  margin-top: 30px;
                  padding: 30px;
                  background-color: var(--white);
                  border: 1px solid var(--gray-4);
                  border-radius: 8px;
                  position: relative;
                  overflow: hidden;
                }
                .testimonial-one .single-testimonial::before {
                  position: absolute;
                  content: "";
                  left: 0;
                  bottom: 0;
                  height: 4px;
                  width: 0%;
                  background-color: var(--primary);
                  -webkit-transition: all 0.4s ease-out 0s;
                  -moz-transition: all 0.4s ease-out 0s;
                  -ms-transition: all 0.4s ease-out 0s;
                  -o-transition: all 0.4s ease-out 0s;
                  transition: all 0.4s ease-out 0s;
                }
                .testimonial-one .single-testimonial:hover::before {
                  width: 100%;
                }
                .testimonial-one .single-testimonial .testimonial-image {
                  position: relative;
                  display: inline-block;
                }
                .testimonial-one .single-testimonial .testimonial-image img {
                  width: 120px;
                  height: 120px;
                  border-radius: 50%;
                  display: inline-block;
                }
                .testimonial-one .single-testimonial .testimonial-image .quote-icon {
                  height: 35px;
                  width: 35px;
                  line-height: 35px;
                  text-align: center;
                  background-color: #fd5631;
                  color: var(--white);
                  font-size: 18px;
                  border-radius: 50%;
                  position: absolute;
                  top: 0;
                  right: 0;
                }
                .testimonial-one .single-testimonial .testimonial-content {
                  padding-top: 30px;
                }
                .testimonial-one .single-testimonial .testimonial-content .text {
                  color: var(--dark-3);
                }
                .testimonial-one .single-testimonial .testimonial-content .author-name {
                  font-size: 18px;
                  font-weight: 600;
                  color: var(--black);
                  margin-top: 24px;
                }
                .testimonial-one .single-testimonial .testimonial-content .sub-title {
                  font-size: 14px;
                  line-height: 24px;
                  color: var(--dark-3);
                }

                </style>
                <!--====== Tiny Slider Css ======-->

                <section class="testimonial-one">

                    <div class="testimonial-one-wrapper">
                        <div class="row">
                            <div class="col p-3">
                                <div class="testimonial-one-active">
                                    {% if product.productreview_set.all|length > 1 %}
                                    {% for review in product.productreview_set.all %}
                                    <div class="col-lg-3">
                                        <div class="single-testimonial text-center">
                                            <div class="testimonial-image">
                                                <img src="{{ review.customer_info.image.url }}"
                                                     alt="Author"/>
                                                <div class="quote-icon">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                                                         fill="currentColor"
                                                         class="bi bi-chat-quote" viewBox="0 0 16 16">
                                                        <path d="M2.678 11.894a1 1 0 0 1 .287.801 10.97 10.97 0 0 1-.398 2c1.395-.323 2.247-.697
                                                      2.634-.893a1 1 0 0 1 .71-.074A8.06 8.06 0 0 0 8 14c3.996 0 7-2.807 7-6 0-3.192-3.004-6-7-6S1 4.808 1 8c0 1.468.617 2.83 1.678 3.894zm-.493 3.905a21.682 21.682 0 0 1-.713.129c-.2.032-.352-.176-.273-.362a9.68 9.68 0 0 0 .244-.637l.003-.01c.248-.72.45-1.548.524-2.319C.743 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7-3.582 7-8 7a9.06 9.06 0 0 1-2.347-.306c-.52.263-1.639.742-3.468 1.105z"/>
                                                        <path d="M7.066 6.76A1.665 1.665 0 0 0 4 7.668a1.667 1.667 0 0 0 2.561 1.406c-.131.389-.375.804-.777 1.22a.417.417 0 0 0 .6.58c1.486-1.54 1.293-3.214.682-4.112zm4 0A1.665 1.665 0 0 0 8 7.668a1.667 1.667 0 0 0 2.561 1.406c-.131.389-.375.804-.777 1.22a.417.417 0 0 0 .6.58c1.486-1.54 1.293-3.214.682-4.112z"/>
                                                    </svg>
                                                </div>
                                            </div>
                                            <div class="testimonial-content">
                                                <p class="text">
                                                    {{ review.review }}
                                                </p>
                                                <h6 class="author-name">{{review.customer_info}}</h6>
                                                <span class="sub-title">{{review.date_added}}</span>
                                            </div>
                                        </div>
                                        <!-- single tesimonial -->
                                    </div>
                                    {% endfor %}
                                    {% endif %}
                                </div>
                            </div>
                        </div>
                    </div>

                </section>

                <!--====== TESTIMONIAL ONE PART ENDS ======-->

                <!--====== Tiny Slider js ======-->
                <script src="https://cdn.ayroui.com/1.0/js/tiny-slider.js"></script>
                <script src="https://cdn.ayroui.com/1.0/js/tiny-slider.js"></script>

                <script>
                    //======== tiny slider for testimonial-one
                    tns({
                      autoplay: true,
                      autoplayButtonOutput: false,
                      mouseDrag: true,
                      gutter: 5,
                      container: ".testimonial-one-active",
                      center: true,
                      nav: true,
                      controls: false,
                      speed: 400,
                      controlsText: [
                        '<i class="lni lni-arrow-left-circle"></i>',
                        '<i class="lni lni-arrow-right-circle"></i>',
                      ],
                      responsive: {
                        0: {
                          items: 1,
                        },

                        992: {
                          items: 2,
                        },
                        1200: {
                          items: 3,
                        },
                      },
                    });

                </script>

                <br>
                <h5>
                    <b>Post Review</b>
                </h5>
                <form id="my-ajax-form" method="POST" action="." data-url="{% url 'productReview' product.id %}">
                    {% csrf_token %}
                    <div class="form-group">
                        {{ form|crispy }}
                    </div>
                    <button data-product="{{ product.id }}" class="btn " type="submit">POST</button>
                </form>
                <div id="output">

                </div>

                <script>
                    var slideIndex = 1;
                    showSlides(slideIndex);

                    function plusSlides(n) {
                      showSlides(slideIndex += n);
                    }

                    function currentSlide(n) {
                      showSlides(slideIndex = n);
                    }

                    function showSlides(n) {
                      var i;
                      var slides = document.getElementsByClassName("mySlides");
                      var dots = document.getElementsByClassName("dot");
                      if (n > slides.length) {slideIndex = 1}
                        if (n < 1) {slideIndex = slides.length}
                        for (i = 0; i < slides.length; i++) {
                          slides[i].style.display = "none";
                        }
                        for (i = 0; i < dots.length; i++) {
                          dots[i].className = dots[i].className.replace(" act", "");
                        }
                      slides[slideIndex-1].style.display = "block";
                      dots[slideIndex-1].className += " act";
                    }

                </script>
            </section>

        </div>
        <div class="col-lg-3">
            <div class="box-element" id="form-wrapper">
                <h4>Delivery method</h4>
                <hr>
                {% if user.is_authenticated %}
                <h6>Dear, {{ user.username }}</h6>
                {% else %}
                <h6>Dear, Customer</h6>
                {% endif %}
                <div class="row no-gutters nowrap">
                    <style>
                        .col-2 {
                            border: 1px solid #ededed;
                            align-self: baseline;
                            flex-shrink: 0;
                            border-radius: 4px;
                            padding: 4px;
                            padding-left: 4px;
                            padding-right: 4px;
                        }
                    </style>
                    <div class="col-2">
                        <svg xmlns="http://www.w3.org/2000/svg"  width="35px" height="35px"
                         fill="currentColor" class="bi bi-clock ml-1 mr-1" viewBox="0 0 16 16">
                        <path d="M8 3.5a.5.5 0 0 0-1 0V9a.5.5 0 0 0 .252.434l3.5 2a.5.5 0 0 0 .496-.868L8 8.71V3.5z"/>
                        <path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm7-8A7 7 0 1 1 1 8a7 7 0 0 1 14 0z"/>
                    </svg>
                    </div>
                    <div class="col-8">
                        It will take {{ product.delivery_period }} days for this product to be ready and delivered to you.

                    </div>
                </div>
            </div>
            <br>
            <div class="sticky-top" style="top: 90px">
                <div class="box-element">
                    <h4>Do you have something to sell?</h4>
                    <p>click here to create or sell
                        <a href="{% url 'create' %}">
                            <svg width="1.5em" height="1.5em" viewBox="0 0 16 16"
                                 class="bi bi-arrow-right-short float-right mr-auto"
                                 fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd"
                                      d="M4 8a.5.5 0 0 1 .5-.5h5.793L8.146 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L10.293 8.5H4.5A.5.5 0 0 1 4 8z"/>
                            </svg>
                        </a>
                    </p>
                </div>
                <br>
                <div class="box-element" id="checkout" style="transition: .5s; display:none">
                    <div class="media p-3">
                        <h6 class="">{{product}}</h6>
                        <div class="media-body">
                            <div class="d-flex float-right">
                                <h6><b>â‚¦{{ product.price|floatformat:2 }}</b></h6>
                            </div>
                        </div>
                    </div>
                    <hr>
                    <svg xmlns="http://www.w3.org/2000/svg" width="15" height="15"
                         fill="currentColor" class="bi bi-clock" viewBox="0 0 16 16">
                        <path d="M8 3.5a.5.5 0 0 0-1 0V9a.5.5 0 0 0 .252.434l3.5 2a.5.5 0 0 0 .496-.868L8 8.71V3.5z"/>
                        <path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm7-8A7 7 0 1 1 1 8a7 7 0 0 1 14 0z"/>
                    </svg>
                    <b class="ml-1">{{ product.delivery_period }} Days Delivery</b>
                     <a href="{% url 'add_to_checkout' product.pk %}"  class="shadow mt-2 btn btn-block" >Proceed to checkout</a>
                </div>
            </div>

        </div>

        <style>
        * {box-sizing: border-box}
        section {font-family: Verdana, sans-serif; margin:0}

        /* Slideshow container */
        .slideshow-container {
          position: relative;
          transition: .3s;

        }

        /* Slides */
        .mySlides {
          display: none;
          padding: 20px;
          text-align: center;
          align-items: center;
          text-align: center;
          transition: .5s;
        }

        /* Next & previous buttons */
        .prev, .next {
        transition: .3s;
          cursor: pointer;
          position: absolute;
          top: 50%;
          width: auto;
          margin-top: -30px;
          padding: 16px;
          color: #888;
          font-weight: bold;
          font-size: 20px;
          border-radius: 0 3px 3px 0;
          user-select: none;
        }

        /* Position the "next button" to the right */
        .next {
        transition: .3s;
          position: absolute;
          right: 0;
          border-radius: 3px 0 0 3px;
        }

        /* On hover, add a black background color with a little bit see-through */
        .prev:hover, .next:hover {
          color: #fff;
          background-color: transparent;
          border-radius: 100%;
          box-shadow: 2px 2px 2px 2px grey;
        }

        /* The dot/bullet/indicator container */
        .dot-container {
            transition: .3s;
            text-align: center;
            padding: 20px;
        }

        /* The dots/bullets/indicators */
        .dot {
          transition: .3s;
          cursor: pointer;
          height: 15px;
          width: 15px;
          margin: 0 2px;
          background-color: #bbb;
          border-radius: 50%;
          display: inline-block;
          transition: background-color 0.6s ease;
        }

        /* Add a background color to the active dot/circle */
        .act, .dot:hover {
          background-color: #717171;
        }

        /* Add an italic font style to all quotes */
        q {font-style: italic;}

        /* Add a blue color to the author */
        .author {color: cornflowerblue;}






        </style>

        {% if seller_products|length > 0 %}
        <div class="col-lg-12">
            <div class="box-element">
                <h4><b>More products from this seller</b></h4>

                <div class="row p-2">
                    {% for query in seller_products %}
                    <div class="col-lg-2 col-md-3 col-sm-3 col-6">
                        <style>
                            .col-6 {
                                padding: 10px;
                            }
                        </style>
                        <a href="" class="text-decoration-none" style="color: black;">
                            <img src="{{ query.image.url }}"
                                 alt="{{ query.name }} with quality amazing HD picture">
                            <div class="mt-1">
                                <h6 style="font-size: 15px" class="text-truncate">
                                    {{ query.name|safe|truncatewords:"4"|linebreaks }}
                                </h6>

                                <h5>â‚¦{{ query.price|floatformat:2 }}</h5>
                            </div>
                        </a>
                    </div>
                    {% endfor %}
                </div>
            </div>
        </div>
        <br>
        {% endif %}

        {% if category_products|length > 0 %}
        <div class="col-lg-12">
            <div id="category-content-wrapper" class="box-element">
                <h4><b>You may also like</b></h4>
                <div class="category-column">
                    <div id="category-slide-wrapper">
                        <div id="category-slider">
                            {% for query in category_products %}
                            <div class="col-lg-2 col-md-4 col-sm-4 col-6">
                                <style>
                                    .col-6 {
                                        padding: 10px;
                                    }
                                </style>
                                <a href="" class="text-decoration-none"
                                   style="color: black;">
                                    <img src="{{ query.image.url }}"
                                         alt="{{ query.name }} with quality amazing HD picture" id="thumb">
                                    <div class="mt-1">
                                        <h6 style="font-size: 15px" class="text-truncate">
                                            {{ query.name|safe|truncatewords:"4"|linebreaks }}
                                        </h6>

                                        <h5>â‚¦{{ query.price|floatformat:2 }}</h5>
                                    </div>
                                </a>
                            </div>
                            {% endfor %}
                        </div>
                    </div>
                </div>
            </div>
        </div>
        {% endif %}
        <style>
            .category-column{
                width: 100%;
                padding: 1px;

            }

            #category-slide-wrapper{
                max-width: 100%;
                display: flex;
                min-height: 100px;
                align-items: center;
            }

            #category-slider{
                width: 100%;
                display: flex;
                flex-wrap: nowrap;
                overflow-x: auto;

            }
        </style>
    </div>
</div>

<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script type="text/javascript" src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script>
// When the user scrolls down 80px from the top of the document, resize the navbar's padding and the logo's font size
window.onscroll = function() {scrollFunction()};

function scrollFunction() {
  if (document.body.scrollTop > 160 || document.documentElement.scrollTop > 160) {
    document.getElementById("checkout").style.display = "block";


  } else {
    document.getElementById("checkout").style.display = "none";


  }
}
</script>
<br>
{% endblock content %}
