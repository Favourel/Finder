{% load static %}
{% load humanize %}
{% include "users/sidebar.html" %}

<nav style="background-color: #fff !important;" id="navbar"
     class=" navbar navbar-expand-lg navbar-light fixed-top mb-4">
    <div class="form-inline my-2 my-lg-0">
        <button style="float: left;" type="button" data-toggle="collapse"
                data-target="#navbarCollapse"
                data-trigger="#navbar_main" class="d-lg-none navbar-toggler collapsed"
                aria-expanded="false">
            <span class="navbar-toggler-icon"></span>
            <style>
                .navbar-toggler-icon {
                    display: inline-block;
                    width: 1em;
                    height: 1em;
                    vertical-align: middle;
                    content: "";
                    background: no-repeat center center;
                    background-size: 100% 100%;
                }
                .navbar-toggler {
                    padding: .15rem .55rem;
                    font-size: 1.25rem;
                    line-height: 1;
                    background-color: transparent;
                    border: 1px solid transparent;
                    border-radius: .25rem;
                }


            </style>
        </button>

        <a class="navbar-brand ml-3 d-fle d-none" href="{% url 'home' %}">
            <img src="{% static 'images/landkit theme.png' %}" width="50" height="50" alt="">

        </a>
        <a style="margin-left:6rem" class="navbar-brand order-row" href="{% url 'home' %}">
            <div style="display:block">
            <h3 class="mb-1 font-shadow" style="color: black;display: inline-block; font-family:
            Florence;text-shadow: 1px 1px 1px grey;">
                <b>CONNECT</b>
            </h3>
            </div>
<!--                        <div class="ml-auto">-->
<!--                        <a onclick="openNav()" data-href="#" class="nav-link ml-auto bell-btn" id="bi-bell_phone_size" role="button"-->
<!--                            aria-haspopup="true" aria-expanded="false">-->
<!--                            <svg xmlns="http://www.w3.org/2000/svg"  width="1.5em"-->
<!--                                     height="1.5em"  class="bi bi-bell" viewBox="0 0 16 16">-->
<!--                                    <path d="M8 16a2 2 0 0 0 2-2H6a2 2 0 0 0 2 2zM8 1.918l-.797.161A4.002 4.002 0 0 0 4 6c0 .628-.134 2.197-.459 3.742-.16.767-.376 1.566-.663 2.258h10.244c-.287-.692-.502-1.49-.663-2.258C12.134 8.197 12 6.628 12 6a4.002 4.002 0 0 0-3.203-3.92L8 1.917zM14.22 12c.223.447.481.801.78 1H1c.299-.199.557-.553.78-1C2.68 10.2 3 6.88 3 6c0-2.42 1.72-4.44 4.005-4.901a1 1 0 1 1 1.99 0A5.002 5.002 0 0 1 13 6c0 .88.32 4.2 1.22 6z"/>-->
<!--                                </svg>-->
<!--                            &lt;!&ndash; Counter - Alerts &ndash;&gt;-->

<!--                            <span class="badge badge_ badge-danger badge-counter" id="counter_phone_size">-->
<!--                                {% if notification_count > 15 %}-->
<!--                                <small id="noti_count_phone_size" class="noti_count">15+</small>-->
<!--                                {% else %}-->
<!--                                {{ notification_count|add:get_cart_items|intword }}-->
<!--                                {% endif %}-->
<!--                            </span>-->
<!--                        </a></div>-->
        </a>

    </div>
    <div class="form-inline my-2 my-lg-0">
    </div>
    <nav style="background-color: #fff !important;"
         id="navbar_main" class="mobile-offcanvas navbar navbar-expand-lg navbar-light ">
        <div class="offcanvas-header">
            <button class="btn btn-danger btn-sm btn-close float-right"> &times;</button>
            <div class="form-inline my-2 my-lg-0">
                {% if user.is_authenticated %}
                <a href="" class="text-decoration-none">
                    <img width="60px" height="60px" style="object-fit: cover; border-radius: 20px solid #ececec"
                         class="ml-1 border  rounded-circle account-img" alt="customer pics"
                         src="{{ user.image.url }}">
                    <small>{{user.username}}</small>
                </a>
                {% else %}
                <a href="{% url 'home' %}">
                    <h4 style="display: inline-block;float: left; margin-top: 7px;
                        text-shadow: 2px 1px 1px grey; font-family: Florence, cursive;
                        color: #333; font-size:2rem;">
                        <strong>CONNECT</strong>
                    </h4>
                </a>
                {% endif %}
            </div>
        </div>
        <hr class="my-3">
        <div class="d-lg-none">
            <ul class="navbar-nav">
                {% if user.is_authenticated %}
                <li class="nav-item active"><a class="nav-link" href="{% url 'home' %}">HOME </a></li>
                <li class="nav-item"><a class="nav-link" href=""> ABOUT US </a></li>
                <li class="nav-item"><a class="nav-link" href="{% url 'checkout' %}"> CHECKOUT </a></li>
                <li class="nav-item"><a class="nav-link" href=""> PROFILE </a></li>

                <li class="nav-item"><a class="nav-success btn btn-block btn-warning" href="{% url 'logout' %}">
                    LOGOUT </a></li>
                {% else %}
                <li class="nav-item active"><a class="nav-link" href="{% url 'home' %}">HOME </a></li>
                <li class="nav-item"><a class="nav-link" href=""> ABOUT US </a></li>
                <li class="nav-item"><a class="nav-link" href="{% url 'checkout' %}"> CHECKOUT </a></li>
                <li class="nav-item"><a class="nav-link mb-2" href="{% url 'login' %}"> LOGIN </a></li>

                <li class="nav-item"><a class="nav-warning btn-block btn btn-warning" href="{% url 'register' %}">
                    SIGNUP </a></li>
                {% endif %}
            </ul>
        </div>
    </nav>

    <style>
        @media only screen and (max-width: 1000px) {
            .hide_nav,  {
                display: none;
            }
        }


    </style>
    <div class="navbar-collapse mr-auto order-lg-2 collapse hide_nav" id="navbarCollapse" style="">
        <hr class="my-3">
        <!-- Primary menu-->
        <ul class="navbar-nav">
            <div class="d-inline">
                <ul class="navbar-nav mt-3 mr-auto ml-2">
                    {% if user.is_authenticated %}
                    <li class="nav-item active">
                        <a href="{% url 'home' %}" id="nav-link" class="nav-link">HOME</a>
                    </li>
                    <li class="nav-item">
                        <a href="{% url 'market' %}" class="nav-link">MARKET</a>
                    </li>
                    <li class="nav-item">
                        <a href="{% url 'checkout' %}" class="nav-link">CHECKOUT</a>
                    </li>
                    <li class="nav-item">
                        <button type="button" data-target="#kt_header_search_modal"
                                class="nav-success btn btn-outline-secondary mr-sm-2"
                                data-toggle="modal">
                            <svg width="1em" height="1em" viewBox="0 0 16 16"
                                 class="bi bi-search" fill="currentColor"
                                 xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd"
                                      d="M10.442 10.442a1 1 0 0 1 1.415 0l3.85 3.85a1 1 0 0 1-1.414 1.415l-3.85-3.85a1 1 0 0 1 0-1.415z"/>
                                <path fill-rule="evenodd"
                                      d="M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zM13 6.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0z"/>
                            </svg>
                        </button>
                    </li>
                    <li class="nav-item dropdown ">
                        <a onclick="openNav()" data-href="#" class="nav-link bell-btn" id="bi-bell" role="button"
                           aria-haspopup="true" aria-expanded="false">
                            <svg xmlns="http://www.w3.org/2000/svg" width="1.5em"
                                 height="1.5em" class="bi bi-bell" viewBox="0 0 16 16">
                                <path d="M8 16a2 2 0 0 0 2-2H6a2 2 0 0 0 2 2zM8 1.918l-.797.161A4.002 4.002 0 0 0 4 6c0 .628-.134 2.197-.459 3.742-.16.767-.376 1.566-.663 2.258h10.244c-.287-.692-.502-1.49-.663-2.258C12.134 8.197 12 6.628 12 6a4.002 4.002 0 0 0-3.203-3.92L8 1.917zM14.22 12c.223.447.481.801.78 1H1c.299-.199.557-.553.78-1C2.68 10.2 3 6.88 3 6c0-2.42 1.72-4.44 4.005-4.901a1 1 0 1 1 1.99 0A5.002 5.002 0 0 1 13 6c0 .88.32 4.2 1.22 6z"/>
                            </svg>
                            <!-- Counter - Alerts -->

                            <span class="badge badge-animation badge_ badge-danger badge-counter" id="counter">
                                {% if notification_count > 15 %}
                                <small id="noti_count" class="noti_count">15+</small>
                                {% else %}
                                {{ notification_count|intword }}
                                {% endif %}
                            </span>
                        </a>
                        <style>
                            .dropdown-menu {
                                overflow-y: auto;
                                max-height: calc(100% + 30rem);
                            }
                            .bi-box .bi-bell .bi {
                                position:relative;
                            }
                            .badge_ {
                                border-radius:24px;
                                position:absolute;
                                top:3px;
                                right:1px;
                            }
                            .badge-animation {
                              animation: zoom-in-zoom-out 1s ease infinite;
                            }

                            @keyframes zoom-in-zoom-out {
                              0% {
                                transform: scale(1, 1);
                              }
                              50% {
                                transform: scale(1.5, 1.5);
                              }
                              100% {
                                transform: scale(1, 1);
                              }
                            }

                        </style>


                    </li>

                    <li class="nav-item mb-2" style="margin-right:6rem">
                        {% if request.user.vendor %}
                        <a class="nav-link mb-2" id="navbarVendorDropdown" role="button"
                            data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            <img src="{{ user.image.url }}" width="35" height="35"
                                 class="rounded-circle mr-2  user-image" alt="">

                            <div style="width: 15rem;" class="dropdown-list dropdown-menu dropdown-menu-right shadow fade_ animated--grow-in"
                                 aria-labelledby="navbarVendorDropdown">
                                <br>
                                <div align="center" class=" align-items-center mt-0 ml-3">
                                    <img src="{{ user.image.url }}" width="65" height="65"
                                         class="rounded-circle user-image" alt="">
                                    <h5 class="mb-1">{{ request.user }}</h5>
                                    <p style="font-size: 12px">Vendor</p>
                                </div>
                                <a class="dropdown-item d-flex align-items-center" href="{% url 'vendor_dashboard' %}">
                                    <div class="small text-gray-500">
                                        <img src="{% static 'images/dashboard.png' %}" width="23" height="23"
                                             class="rounded-circle user-image mr-2" alt="">
                                    </div>
                                    <span class="font-weight-weak">
                                        Dashboard
                                    </span>
                                </a>
                                <hr class="my-1">
                                <a class="dropdown-item d-flex align-items-center" href="{% url 'vendor' request.user %}">
                                    <div class="small text-gray-500">
                                        <svg style="opacity: 0.7" width="1.5em" height="1.5em" viewBox="0 0 16 16"
                                             class="bi bi-shop mb-1 mr-1"
                                             fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                            <path fill-rule="evenodd"
                                                  d="M2.97 1.35A1 1 0 0 1 3.73 1h8.54a1 1 0 0 1 .76.35l2.609 3.044A1.5 1.5 0 0 1 16 5.37v.255a2.375 2.375 0 0 1-4.25 1.458A2.371 2.371 0 0 1 9.875 8 2.37 2.37 0 0 1 8 7.083 2.37 2.37 0 0 1 6.125 8a2.37 2.37 0 0 1-1.875-.917A2.375 2.375 0 0 1 0 5.625V5.37a1.5 1.5 0 0 1 .361-.976l2.61-3.045zm1.78 4.275a1.375 1.375 0 0 0 2.75 0 .5.5 0 0 1 1 0 1.375 1.375 0 0 0 2.75 0 .5.5 0 0 1 1 0 1.375 1.375 0 1 0 2.75 0V5.37a.5.5 0 0 0-.12-.325L12.27 2H3.73L1.12 5.045A.5.5 0 0 0 1 5.37v.255a1.375 1.375 0 0 0 2.75 0 .5.5 0 0 1 1 0zM1.5 8.5A.5.5 0 0 1 2 9v6h1v-5a1 1 0 0 1 1-1h3a1 1 0 0 1 1 1v5h6V9a.5.5 0 0 1 1 0v6h.5a.5.5 0 0 1 0 1H.5a.5.5 0 0 1 0-1H1V9a.5.5 0 0 1 .5-.5zM4 15h3v-5H4v5zm5-5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1v-3zm3 0h-2v3h2v-3z"/>
                                        </svg>
                                    </div>
                                    <span class="font-weight-weak">
                                        My Gigs
                                    </span>
                                </a>
                                <hr class="my-1">
                                <a class="dropdown-item d-flex align-items-center" href="{% url 'settings' %}">
                                    <div class="small text-gray-500">
                                        <img src="{% static 'images/settings.png' %}" width="19" height="19"
                                             class="rounded-circle user-image mr-2" alt="">
                                    </div>
                                    <span class="font-weight-weak">
                                       Profile Settings
                                    </span>
                                </a>
                                <hr class="my-1">
                                <a class="dropdown-item d-flex align-items-center" href="{% url 'logout' %}">
                                    <div class="small text-gray-500">
                                        <img src="{% static 'images/log-out.png' %}" width="19" height="19"
                                             class="rounded-circle user-image mr-2" alt="">
                                    </div>
                                    <span class="font-weight-weak">
                                         Logout
                                    </span>
                                </a>
                            </div>

                        </a>
                        {% else %}
                        <a class="nav-link mb-2" id="navbarDropdown" role="button" data-toggle="dropdown"
                           aria-haspopup="true" aria-expanded="false">
                            <img src="{% static 'images/user.png' %}" width="35" height="35"
                                 class="rounded-circle mr-2  user-image" alt="">

                            <div style="width: 15rem;" class="dropdown-list dropdown-menu dropdown-menu-right shadow fade_ animated--grow-in"
                                 aria-labelledby="navbarDropdown">
                                <br>
                                <div align="center" class=" align-items-center mt-0 ml-3">
                                    <img src="{% static 'images/user.png' %}" width="65" height="65"
                                         class="rounded-circle user-image" alt="">
                                    <h5 class="mb-1">{{ request.user }}</h5>
                                    <p style="font-size: 12px">Client</p>
                                </div>
                                <a class="dropdown-item d-flex align-items-center" href="{% url 'create_store' %}">
                                    <div class="small text-gray-500">
                                        <svg style="opacity: 0.7" width="1.5em" height="1.5em" viewBox="0 0 16 16"
                                             class="bi bi-lock-fill float-righ mb-1 mr-1"
                                             fill="currentColor"
                                             xmlns="http://www.w3.org/2000/svg">
                                            <path d="M2.5 9a2 2 0 0 1 2-2h7a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9z"/>
                                            <path fill-rule="evenodd"
                                                  d="M4.5 4a3.5 3.5 0 1 1 7 0v3h-1V4a2.5 2.5 0 0 0-5 0v3h-1V4z"/>
                                        </svg>
                                    </div>
                                    <span class="font-weight-weak">
                                        My Gigs
                                    </span>
                                </a>
                                <hr class="my-1">
                                <a class="dropdown-item d-flex align-items-center" href="{% url 'settings' %}">
                                    <div class="small text-gray-500">
                                        <img src="{% static 'images/settings.png' %}" width="19" height="19"
                                             class="rounded-circle user-image mr-2" alt="">
                                    </div>
                                    <span class="font-weight-weak">
                                        Profile Settings
                                    </span>
                                </a>
                                <hr class="my-1">
                                <a class="dropdown-item d-flex align-items-center" href="{% url 'logout' %}">
                                    <div class="small text-gray-500">
                                        <img src="{% static 'images/log-out.png' %}" width="19" height="19"
                                             class="rounded-circle user-image mr-2" alt="">
                                    </div>
                                    <span class="font-weight-weak">
                                         Logout
                                    </span>
                                </a>
                            </div>
                        </a>
                        {% endif %}
                    </li>
                    {% else %}
                    <li class="nav-item active">
                        <a href="{% url 'home' %}" class="nav-link">HOME</a>
                    </li>

                    <li class="nav-item">
                        <a href="{% url 'checkout' %}" class="nav-link">CHECKOUT</a>
                    </li>
                    <br>
                    <li class="nav-item">
                        <a class="nav-success btn btn-warning" href="{% url 'register' %}"
                           style="margin-right: 10px;box-shadow: 4px 6px 5px grey;">
                            SIGNUP
                        </a>
                    </li>
                    <br>
                    <li class="nav-item">
                        <a class="nav-success btn btn-warning mr-sm-2" style="box-shadow: 4px 6px 5px grey;"
                           href="{% url 'login' %}">
                            LOGIN
                        </a>
                    </li>
                    {% endif %}
                </ul>
            </div>
        </ul>
    </div>
</nav>
<style>
.fade_ {
    animation-name: dropdownAnimation;
    animation-duration: 0.5s;
    animation-iteration-count: 1;
    animation-timing-function: ease;
    animation-fill-mode: forwards;
}
@keyframes dropdownAnimation {
    0% {
        opacity: 0;
        transform: translateY(58px);
    }
    100% {
        opacity: 1;
        transform: translateY(0px);
    }
}

.dropdown-menu {
    top: 70px;
    right: 10px;

}

</style>
<script type="text/javascript">
/// some script

// jquery ready start
$(document).ready(function() {
	// jQuery code


	$("[data-trigger]").on("click", function(e){
        e.preventDefault();
        e.stopPropagation();
        var offcanvas_id =  $(this).attr('data-trigger');
        $(offcanvas_id).toggleClass("show");
        $('body').toggleClass("offcanvas-active");
        $(".screen-overlay").toggleClass("show");
    });

   	// Close menu when pressing ESC
    $(document).on('keydown', function(event) {
        if(event.keyCode === 27) {
           $(".mobile-offcanvas").removeClass("show");
           $("body").removeClass("overlay-active");
        }
    });

    $(".btn-close, .screen-overlay").click(function(e){
    	$(".screen-overlay").removeClass("show");
        $(".mobile-offcanvas").removeClass("show");
        $("body").removeClass("offcanvas-active");


    });


}); // jquery end

</script>
<script>
// When the user scrolls down 80px from the top of the document, resize the navbar's padding and the logo's font size
window.onscroll = function() {scrollFunction()};

function scrollFunction() {
  if (document.body.scrollTop > 50 || document.documentElement.scrollTop > 50) {
    document.getElementById("navbar").style.background = "#fff";
    document.getElementById("navbar").style.boxShadow = "hsl(0, 0%, 80%) 0 0 16px";
    document.getElementById("brand-name").style.color = "#000";

  } else {
    document.getElementById("navbar").style.background = "#fff";
    document.getElementById("navbar").style.boxShadow = "none";
    document.getElementById("brand-name").style.color = "#fff";


  }
}

</script>

<style type="text/css">
body.offcanvas-active{
	overflow:hidden;
}
.offcanvas-header{ display:none; }
.screen-overlay {
  width:0%;
  height: 100%;
  z-index: 30;
  position: fixed;
  top: 0;
  left: 0;
  opacity:0;
  visibility:hidden;
  background-color: rgba(34, 34, 34, 0.6);
  transition:opacity .2s linear, visibility .1s, width 1s ease-in;
   }
.screen-overlay.show {
    transition:opacity .5s ease, width 0s;
    opacity:1;
    width:100%;
    visibility:visible;
}

@media all and (max-width:992px) {

	.offcanvas-header{ display:block; }

	.mobile-offcanvas{
		visibility: hidden;
		transform:translateX(-100%);
	    border-radius:0;
		display:block;
	    position: fixed;
	    top: 0; left:0;
	    height: 100%;
	    z-index: 1200;
	    width:80%;
	    overflow-y: scroll;
	    overflow-x: hidden;
	    transition: visibility .2s ease-in-out, transform .2s ease-in-out;
	}

	.mobile-offcanvas.show{
		visibility: visible;
    	transform: translateX(0);
	}
}

.get {
    display: flex;
}
@media (min-width: 48em) {
    .get {
    visibility: hidden;
    }
}
body {
  padding-top: 3rem;
  padding-bottom: 0rem;
  color: #5a5a5a;
  overflow-x: hidden;
}
</style>