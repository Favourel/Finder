!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("ua-parser-js"),require("lodash")):"function"==typeof define&&define.amd?define(["ua-parser-js","lodash"],t):"object"==typeof exports?exports.SupportChat=t(require("ua-parser-js"),require("lodash")):e.SupportChat=t(e.uaParser,e._)}("undefined"!=typeof self?self:this,(function(e,t){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="https://npm-assets.fiverrcdn.com/assets/@fiverr-private/support_chat/",n(n.s="tjUo")}({"/9aa":function(e,t,n){var r=n("NykK"),o=n("ExA7");e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==r(e)}},"/v4g":function(e,t,n){var r=n("92xy"),o=r.MOBILE_DEVICE,i=r.TABLET_DEVICE,a=r.IOS_OS_NAME,c=r.ANDROID_OS_NAME;e.exports={isMobile:function(e){return e===o},isTouch:function(e){return[o,i].includes(e)},isIos:function(e){return e===a},isAndroid:function(e){return e===c}}},"6BTq":function(e,t,n){"use strict";(function(e){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",(function(){return o}));var o="object"===("undefined"==typeof window?"undefined":r(window))&&window.window===window&&window||"object"===(void 0===e?"undefined":r(e))&&e.global===e&&e||"object"===("undefined"==typeof self?"undefined":r(self))&&self.self===self&&self}).call(this,n("yLpj"))},"8rrE":function(t,n){t.exports=e},"92xy":function(e,t){e.exports={MOBILE_DEVICE:"mobile",TABLET_DEVICE:"tablet",DESKTOP_DEVICE:"desktop",IOS_OS_NAME:"iOS",ANDROID_OS_NAME:"Android"}},AP2z:function(e,t,n){var r=n("nmnc"),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,c=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,c),n=e[c];try{e[c]=void 0;var r=!0}catch(e){}var o=a.call(e);return r&&(t?e[c]=n:delete e[c]),o}},DzJC:function(e,t,n){var r=n("sEfC"),o=n("GoyQ");e.exports=function(e,t,n){var i=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return o(n)&&(i="leading"in n?!!n.leading:i,a="trailing"in n?!!n.trailing:a),r(e,t,{leading:i,maxWait:t,trailing:a})}},ExA7:function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},GoyQ:function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},KfNM:function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},Kz5y:function(e,t,n){var r=n("WFqU"),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},NykK:function(e,t,n){var r=n("nmnc"),o=n("AP2z"),i=n("KfNM"),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?o(e):i(e)}},QIyF:function(e,t,n){var r=n("Kz5y");e.exports=function(){return r.Date.now()}},TO8r:function(e,t){var n=/\s/;e.exports=function(e){for(var t=e.length;t--&&n.test(e.charAt(t)););return t}},VgKM:function(e,t,n){var r=n("pqiq").DEFAULT_LOCALE;t.DEFAULT_CONTEXT={locale:r,computedLocale:r,userId:0,country:"",countryCode:"",pageCtxId:"",isPro:!1,abTests:{},userAgent:"",knownCrawler:!1,csrfToken:"",browserLanguage:"",currency:"",pathParameters:{},queryParameters:{},userGuid:"",url:"",ip:"",referrer:"",organizationId:"",experience:{isBuyer:!1,isSeller:!1,isBusiness:!1,value:""},isMobile:!1,isTouch:!1,isIos:!1}},WFqU:function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n("yLpj"))},YLtl:function(e,n){e.exports=t},jXQH:function(e,t,n){var r=n("TO8r"),o=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(o,""):e}},nmnc:function(e,t,n){var r=n("Kz5y").Symbol;e.exports=r},pqiq:function(e,t){t.DEFAULT_LOCALE="en-US"},sEfC:function(e,t,n){var r=n("GoyQ"),o=n("QIyF"),i=n("tLB3"),a=Math.max,c=Math.min;e.exports=function(e,t,n){var u,s,f,l,d,p,y=0,w=!1,b=!1,h=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function m(t){var n=u,r=s;return u=s=void 0,y=t,l=e.apply(r,n)}function v(e){return y=e,d=setTimeout(O,t),w?m(e):l}function g(e){var n=e-p;return void 0===p||n>=t||n<0||b&&e-y>=f}function O(){var e=o();if(g(e))return E(e);d=setTimeout(O,function(e){var n=t-(e-p);return b?c(n,f-(e-y)):n}(e))}function E(e){return d=void 0,h&&u?m(e):(u=s=void 0,l)}function j(){var e=o(),n=g(e);if(u=arguments,s=this,p=e,n){if(void 0===d)return v(p);if(b)return clearTimeout(d),d=setTimeout(O,t),m(p)}return void 0===d&&(d=setTimeout(O,t)),l}return t=i(t)||0,r(n)&&(w=!!n.leading,f=(b="maxWait"in n)?a(i(n.maxWait)||0,t):f,h="trailing"in n?!!n.trailing:h),j.cancel=function(){void 0!==d&&clearTimeout(d),y=0,u=p=s=d=void 0},j.flush=function(){return void 0===d?l:E(o())},j}},tLB3:function(e,t,n){var r=n("jXQH"),o=n("GoyQ"),i=n("/9aa"),a=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,u=/^0o[0-7]+$/i,s=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=c.test(e);return n||u.test(e)?s(e.slice(2),n?2:8):a.test(e)?NaN:+e}},tjUo:function(e,t,n){"use strict";n.r(t);var r="CACHED",o="LIVE",i={OPEN:"OPEN",SHOWN:"SHOWN",HIDDEN:"HIDDEN",EMPTY:"EMPTY"},a="supportchat:init",c="supportchat:initialized",u="SUPPORT.CHAT.STATE",s=n("DzJC"),f=n.n(s),l=function(e){return{customEventName:"chat_is_closed",properties:{chat_id:e}}},d=function(e,t){return{customEventName:"chat_account_status_changed",properties:{status:e,chat_id:t}}},p=function(e){if(!window.appboy)throw new Error("No Braze appboy");if(!e.customEventName)throw new Error("No payload custom event name");window.appboy.logCustomEvent(e.customEventName,e.properties)},y=n("YLtl"),w=n.n(y),b=n("6BTq");function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var m=Symbol(),v=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this[m]=new Map}var t,n,r;return t=e,(n=[{key:"on",value:function(e,t){var n=this[m].get(e);n||(this[m].set(e,new Set),n=this[m].get(e)),n.add(t)}},{key:"once",value:function(e,t){var n=this,r=function r(){n.off(e,r),t.apply(void 0,arguments)};this.on(e,r)}},{key:"one",value:function(e,t){this.has(e)||this.on(e,t)}},{key:"has",value:function(e){return this[m].has(e)}},{key:"off",value:function(e,t){if(this[m].has(e))if(void 0!==t){var n=this[m].get(e);n.delete(t),0===n.size&&this[m].delete(e)}else this[m].delete(e)}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=this[m].get(e);o&&o.forEach((function(e){e.apply(void 0,n)}))}},{key:"deferred",value:function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return Promise.resolve().then((function(){t.emit.apply(t,[e].concat(r))}))}}])&&h(t.prototype,n),r&&h(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),g=Symbol.for("globalEventBus"),O=b.a[g]=b.a[g]||new v,E="OBS::LOGGER",j=["debug","verbose","info","warn","error","critical"];function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=j.reduce((function(e,t){return Object.assign(e,S({},t,(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return O.deferred(E,{entity:e,enrichments:n,level:t})})))}),{});Object.defineProperty(_,"force",{value:j.reduce((function(e,t){return Object.assign(e,S({},t,(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return O.deferred(E,{entity:e,enrichments:n,level:t,force:!0})})))}),{})});var A=_,P=n("8rrE"),T=n.n(P),C=n("/v4g");function D(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var I=Symbol(),L=function(e,t,n){Object.defineProperty(e,t,{value:n,writable:!1,enumerable:!1})},z=function(e){if(e[I])return e;if(!function(e){return!!e&&Object(y.isObject)(e)&&!Array.isArray(e)}(e))return A.error("FiverrContext computed mixin target is not valid, please contact platform team."),e;var t=e.userAgent,n=T()(t),r=n.device.type,o=n.os.name,i={isMobile:C.isMobile(r),isTouch:C.isTouch(r),isIos:C.isIos(o),isAndroid:C.isAndroid(o)};return L(e,I,!0),Object.entries(i).forEach((function(t){var n=D(t,2),r=n[0],o=n[1];return L(e,r,o)})),e},N=n("VgKM"),M=function(){var e=w.a.get(window,"initialData.FiverrContext");return e?z(e):(A.error({message:"Browser context does not exist, please ensure the run time owner sets one on the window scope before using this API"}),N.DEFAULT_CONTEXT)},B=function(){return!!M().userId};function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){W(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F(e){switch(e){case i.OPEN:window.zE("webWidget","show"),setTimeout((function(){window.zE("webWidget","open")}),500);break;case i.SHOWN:window.zE("webWidget","show");break;case i.HIDDEN:default:window.zE("webWidget","hide")}}function U(e){var t=e.tags,n=e.department;window.zESettings={launcher:{label:{"*":"Business Chat"},chatLabel:{"*":"Business Chat"}},webWidget:{zIndex:9999999999,offset:{horizontal:0,vertical:"2px"},chat:{tags:t,departments:{enabled:[n],select:n}},authenticate:{chat:{jwtFn:function(e){window.axios.get("/zendesk/chat_authentication").then((function(e){return e.data})).then((function(t){console.log("Successfuly authenticated into Zendesk chat"),e(t.jwt)})).catch((function(e){console.error(e)}))}}}}}}function V(e){var t,n,r,o;document.getElementById("ze-snippet")&&(t=document.getElementById("launcher"),n=document.getElementById("webWidget"),r=document.querySelector('[data-product="web_widget"]'),o=document.getElementById("ze-snippet"),t&&t.parentElement.removeChild(t),n&&n.parentElement.removeChild(n),r&&r.parentElement.removeChild(r),o.parentElement.removeChild(o),delete window.$zopim,delete window.zEmbed,delete window.zE,delete window.zEACLoaded,delete window.zEWebpackACJsonp);var i=document.createElement("script");i.onload=e,i.type="application/javascript",i.id="ze-snippet",i.src="https://static.zdassets.com/ekr/snippet.js?key=".concat("dbd69753-3b8a-468d-b704-8a1ed2887899","&cors=1");var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(i,a)}function q(e){var t,n=e.tags,r=e.department,o=e.state,a=e.chat_id;!function(e){switch(e){case i.OPEN:case i.SHOWN:return window.zE("webWidget","show");default:window.zE("webWidget","hide")}}(o),function e(){var t=document.getElementById("launcher");if(!t)return setTimeout((function(){10!==e.retries&&(e.retries=(e.retries||0)+1,e())}),1e3);setTimeout((function(){return K(t)}),500),document.onscroll=f()((function(){return K(t)}),50)}(),(t=document.createElement("style")).innerHTML="\n        #launcher {\n            margin: 10px !important;\n            z-index: 1000 !important;\n        }\n    ",document.head.appendChild(t),function e(){var t=document.getElementById("launcher");if(!t)return setTimeout((function(){10!==e.retries?(e.retries=(e.retries||0)+1,e()):console.error("Did not find launcher")}),1e3);var n=t.contentDocument.createElement("style"),r=t.contentDocument.querySelector("button");if(!r)return setTimeout((function(){10!==e.retriesForButton?(e.retriesForButton=(e.retriesForButton||0)+1,e()):console.error("Did not find button in launcher")}),1e3);n.innerHTML="\n        button {\n            padding: 1rem !important;\n        }\n        button span:nth-child(1) {\n            padding-right: 0 !important;\n        }\n        button span.u-inlineBlock, button span {\n            display: none !important;\n        }\n    ",t.contentDocument.head.appendChild(n),r.innerHTML='\n    <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <g clip-path="url(#clip0)">\n            <path d="M1.59978 0.599609H18.3998C19.0622 0.599609 19.5998 1.13721 19.5998 1.79961V14.9996C19.5998 15.662 19.0622 16.1996 18.3998 16.1996H11.1998L5.19978 19.7996V16.1996H1.59978C0.93738 16.1996 0.39978 15.662 0.39978 14.9996V1.79961C0.39978 1.13721 0.93738 0.599609 1.59978 0.599609Z"\n                  fill="white"/>\n        </g>\n        <path d="M6.75011 13.8H9.48354V8.3324H12.0832V13.8H14.8V6.31063H9.48354V5.8465C9.48354 5.3373 9.88385 5.0226 10.5173 5.0226H12.0841V3H10.0668C8.08292 3 6.75011 4.09352 6.75011 5.69625V6.31063H5.19995V8.33323H6.75011V13.8Z"\n              fill="#1E1692" style="fill: #1E1692;"/>\n        <defs>\n            <clipPath id="clip0">\n                <rect width="19.2" height="19.2" fill="white" transform="translate(0.39978 0.599609)"/>\n            </clipPath>\n        </defs>\n    </svg>\n'}(),setInterval((function(){if(window.zE("webWidget:get","chat:isChatting")){var e=de();if(function(e){if(!e||!e.createdAt)return!0;var t=new Date(e.createdAt),n=new Date(t.getTime()+864e5-9e5);return new Date>n}(e)){var t=new Date(Date.now()-864e5+9e5);pe(H(H({},e),{},{createdAt:t}))}}}),6e4),window.zE("webWidget:on","chat:departmentStatus",(function(e){console.info("Department ".concat(e.name,", ").concat(e.id," is ").concat(e.status)),e.name===r&&"online"===e.status&&(window.zE("webWidget","chat:addTags",n),F(o))})),window.zE("webWidget:on","chat:connected",(function(){console.log("Successfully connected to Zendesk Chat!")})),window.zE("webWidget:on","chat:end",(function(){!function(){var e=de(),t=new Date(Date.now()-864e5+6e4);pe(H(H({},e),{},{state:i.SHOWN,createdAt:t}))}(),p(l(a))})),window.zE("webWidget:on","close",(function(){pe(H(H({},de()),{},{state:i.SHOWN}))})),window.zE("webWidget:on","chat:status",(function(e){return function(e,t){return p(d(e,t))}(e,a)})),window.zE("webWidget:on","chat:unreadMessages",(function(){window.zE("webWidget","open")})),window.dispatchEvent(new CustomEvent(c))}var K=function(e){window.innerHeight+window.scrollY>document.body.clientHeight-20?e.classList.add("invisible-element"):e.classList.remove("invisible-element")};function Q(e){e&&"EMPTY"!==e.state&&e.chat_id&&e.department&&(U(e),V((function(){return q(e)})))}function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){Z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function J(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function X(e,t,n){return t&&J(e.prototype,t),n&&J(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ee=new(X((function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Z(this,"initChat",(function(e){e&&"EMPTY"!==e.state&&e.chat_id&&e.department&&(t.__initialized?t.toggleChat(e):t.initScript(e,t.initLoadScripBehavior))})),Z(this,"initScript",(function(e,n){var r=M();if(!document.getElementById(t.scriptAttributes.id)){var o=document.createElement("script");Object.entries(t.scriptAttributes).forEach((function(e){var t=G(e,2),n=t[0],r=t[1];o.setAttribute(n,r)})),o.onload=n;var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(o,i),window.adaSettings={adaReadyCallback:function(){console.log("Ada Embed is done setting up. Chat support is now available.")},sensitiveMetaFields:{jwt_token:"test_token"},metaFields:Y(Y({},e),{},{subdomain:location.host,locale:r.locale})}}})),Z(this,"initLoadScripBehavior",(function(){t.__initialized=!0})),Z(this,"toggleChat",(function(e){window.adaEmbed&&t.__initialized&&(window.adaEmbed.toggle(),window.adaEmbed.setMetaFields(Y(Y({},e),{},{source:"LETS_CHAT_CLICKED"})))})),this.scriptAttributes={id:"__ada",src:"https://static.ada.support/embed2.js","data-handle":"fiverr",type:"application/javascript"},this.__initialized=!1}))),te={send:function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return O.deferred(e,{events:n})}}("OBS::BIG_QUERY")};function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){oe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t="reason_";return e.filter((function(e){return-1!==e.indexOf(t)})).reduce((function(e,n){return n.slice(t.length)}),"")},ae=function(e){var t=re(re({},{group:"user_actions",platform:"web",user:{id:window.dataLayer&&window.dataLayer.length&&window.dataLayer[0]&&window.dataLayer[0].user_id},feature:{name:"support_chat"},reason:"support_chat_to_vibs",sub_group:"website_actions",action:{type:"click"},domain:{name:"buyers"},publisher:{domain:"buyers",sub_domain:"grizzlies"}}),{},{type:"chat_triggered",reason:ie(e)});te.send(t)};function ce(e){return function(e){if(Array.isArray(e))return ue(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ue(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ue(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(Object(n),!0).forEach((function(t){le(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function de(){var e=window.localStorage.getItem(u);if(e)try{return JSON.parse(e)}catch(e){window.localStorage.removeItem(u)}}function pe(e){var t=JSON.stringify(fe(fe({},e),{},{createdAt:e.createdAt||new Date}));return window.localStorage.setItem(u,t)}function ye(){return window.axios.get("/zendesk/chat/state").then((function(e){return e.data})).then((function(e){if(e){if(void 0!==e.success&&!1===e.success)return;var t=fe(fe({},e),{},{tags:[].concat(ce(e.tags||[]),["user_type-".concat(window.dataLayer&&window.dataLayer[0].user_type)])});return pe(t),t}})).catch((function(e){throw e}))}function we(e){var t=Object.assign({},e);if("true"===new URLSearchParams(window.location.search).get("openSupportChat")){var n=new URLSearchParams(window.location.search).get("utm_source"),r="reason_".concat(n||"url_triggered_chat");Object.assign(t,{state:i.OPEN,tags:[].concat(ce(t.tags),[r])});var o=[].concat(ce(t.tags),["user_type-".concat(window.dataLayer&&window.dataLayer[0].user_type)]);ae(o)}return t}var be=function(e){return null!=e&&e.ada_chatbot_enabled?ee.initChat(e):Q(e)};function he(){if(!window.axios)return setTimeout((function(){10!==he.retries&&(he.retries=(he.retries||0)+1,he())}),500);var e=de();if(function(e){if(!e)return!0;var t=new Date(e),n=new Date(t.getTime()+864e5);return new Date>n}(e&&e.createdAt))return ye().then((function(e){if(e){var t=we(e);return be(t)}}));var t=we(e);return be(t)}var me=function(e){if(B())switch(e){case o:return"Live flow TBD";case r:default:return he()}else window.localStorage.removeItem(u)};function ve(e){return function(e){if(Array.isArray(e))return ge(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ge(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ge(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Oe(e){if(B()){var t=de();!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)throw new Error('"detail" payload is not defined for event. Please, fire event like new CustomEvent("supportchat:init", { detail: { ...your properties } })');if(!e.chat_id&&!t.chat_id)throw new Error('Missing param "chat_id" needed to initiate support chat');if(!e.department&&!t.department)throw new Error('Missing param "department" needed to initiate support chat');if(!e.tags)throw new Error('Missing param "tags" needed to initiate support chat');var n=e.state||t.state;if(!n)throw new Error('Missing param "state" needed to initiate support chat');if(n&&!Object.values(i).find((function(e){return e===n})))throw new Error('"state" property has to have one of these values: '.concat(Object.values(i).toString()));if(e.createdAt&&!(e.createdAt instanceof Date))throw new Error('"createdAt" param has to be of type Date')}(e.detail,t);var n=e.detail,r=n.chat_id,o=n.department,a=n.tags,c=n.state,s=n.createdAt,f=[].concat(ve(a),["user_type-".concat(window.dataLayer&&window.dataLayer[0].user_type)]),l={chat_id:r,department:o,tags:f,state:c,createdAt:s};ae(f);var d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{chat_id:e.chat_id||t.chat_id,department:e.department||t.department,tags:e.tags?[].concat(ve(t.tags?t.tags:[]),ve(e.tags)):t.tags,state:e.state||t.state,createdAt:e.createdAt||t.createdAt}}(l,t);!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.test,n=e.group,r=void 0===n?"2":n,o=M(),i=o.abTests,a=void 0===i?{}:i;return a[t]===r}({test:"3566"})?Q(d):ee.initChat(d)}else window.localStorage.removeItem(u)}window.addEventListener(a,Oe),me(window.SUPPORT_CHAT_TYPE)},yLpj:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n}})}));